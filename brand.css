
/* === AZRO Brand Harmonization (drop-in) ==============================
   Uses existing :root tokens defined in style.css:
   --text-body, --text-head, --text-sub, --accent-a, --accent-b, --bg-overlay
   ==================================================================== */

/* Layout containers */
.container { max-width: 1100px; margin-inline: auto; padding-inline: 16px; }
.measure   { max-width: 68ch; }

/* Typographic rhythm */
.h-eyebrow { letter-spacing: .08em; text-transform: uppercase; font: 600 0.85rem/1.1 'Exo 2', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: var(--text-sub); margin: 0 0 .5rem 0; }
.h-lead    { font: 400 clamp(1.05rem, .45vw + 1rem, 1.25rem)/1.6 'Exo 2', system-ui, sans-serif; color: var(--text-body); margin: 0 0 1.2rem 0; }
.h-subhead { font: 700 clamp(1.25rem, .8vw + 1rem, 1.6rem)/1.3 'Exo 2', system-ui, sans-serif; margin: 1.25rem 0 .5rem; color: var(--text-head); }
.h-muted   { color: var(--text-sub); }

/* Hero improvements (non-breaking) */
.hero { padding: clamp(48px, 6vw, 72px) 20px; }
.hero .hero-text { text-align: left; }
.hero .hero-text h1 { line-height: 1.12; text-wrap: balance; }
.hero .hero-text p { max-width: 68ch; line-height: 1.6; }

/* Scrim helper for sections with images behind */
.section-scrim { position: relative; isolation: isolate; }
.section-scrim::before{
  content: ""; position: absolute; inset: 0; z-index: -1;
  background: linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.65));
}

/* Cards & grids */
.card {
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 1rem 1.1rem;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.card h3 { margin: 0 0 .25rem; font-weight: 700; color: var(--text-head); }
.card p  { margin: 0; color: var(--text-body); }

.grid-2 { display: grid; gap: .75rem; grid-template-columns: 1fr; }
.grid-3 { display: grid; gap: .75rem; grid-template-columns: 1fr; }
@media (min-width: 880px){ .grid-2{ grid-template-columns: 1fr 1fr; } }
@media (min-width: 1120px){ .grid-3{ grid-template-columns: repeat(3,minmax(0,1fr)); } }

/* Stat cards */
.stat-grid { display: grid; gap: .75rem; grid-template-columns: 1fr; margin: .75rem 0 1.5rem; }
@media (min-width: 880px){ .stat-grid{ grid-template-columns: repeat(3,minmax(0,1fr)); } }
.stat-card { padding: 1rem; border-radius: 12px; border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.04); }
.stat-card .value { font-weight: 800; font-size: clamp(1.35rem, 2vw + .6rem, 1.85rem); color: var(--text-head); }
.stat-card .label { color: var(--text-sub); font-size: .95rem; margin-top: .25rem; }

/* Buttons: reuse .btn and tint via brand gradient */
.btn { display: inline-block; margin: 0; }
.btn--primary{
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b));
  color: #0b0f1a !important;
  border: none !important;
}
.cta-row { display: flex; gap: .75rem; flex-wrap: wrap; margin: 1rem 0 1.75rem; }

/* Utility spacing */
.stack > * + * { margin-top: var(--stack-gap, .75rem); }

/* About page specific hooks (mapped to brand) */
.about-hero { background-image: url('coolback.webp'); background-size: cover; background-position: center; }
.about-hero .hero-text { max-width: 1100px; margin-inline: auto; }
.about-hero .panel { backdrop-filter: saturate(1.05); padding: clamp(24px, 3vw, 32px); border-radius: 16px; background: rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.12); }

/* Make existing grids/cards feel consistent */
.features-grid .feature-card,
.pricing-grid .price-card,
.resources-grid .resource-card { border-radius: 12px; background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.12); }
.features-grid .feature-card h3,
.pricing-grid .price-card span,
.resources-grid .resource-card span { color: var(--text-head); }
.features-grid .feature-card p { color: var(--text-body); }

/* Footnotes & disclosures */
.disclosure-box { border: 1px dashed rgba(255,255,255,.18); border-radius: 10px; padding: .75rem 1rem; background: rgba(255,255,255,.03); color: var(--text-sub); }

/* Integrated media card for About chart */
.media-card {
  max-width: min(980px, 92vw);
  margin: clamp(14px, 3vw, 32px) auto;
  border-radius: 14px;
  overflow: clip;
  background: #0b0f1a;
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 16px 40px rgba(0,0,0,.45);
  position: relative;
}
.media-card::before{
  content:""; position:absolute; inset:0; border-radius:inherit; padding:1px;
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity:.22; pointer-events:none;
}
.media-card .media{ aspect-ratio: 16 / 9; }
.media-card picture, .media-card img{ display:block; width:100%; height:100%; object-fit: cover; }
.media-card figcaption{ color: var(--text-sub, #D4D9FF); font-size: .95rem; text-align: center; padding: .6rem .75rem .8rem; }


/* === Global center pass (non-destructive) ===============================
   Centers main content blocks and cards across pages. Keeps paragraphs
   readable by constraining line length while aligning the layout center.
   ====================================================================== */
:root{ --measure: 68ch; }

/* Center hero content and text */
.hero .hero-text { text-align: center; margin-left: auto; margin-right: auto; }
.hero .hero-text p { max-width: var(--measure); margin-left: auto; margin-right: auto; }

/* Make common grids/blocks center within the page */
.features-wrapper,
.features-grid,
.pricing-grid,
.resources-grid,
.stat-grid,
.about-feature-grid,
.about-steps,
.disclosure-box,
.media-card { margin-left:auto; margin-right:auto; }

/* Center grid items and cards; keep body text readable */
.features-grid, .pricing-grid, .resources-grid { justify-items: center; }
.features-grid .feature-card,
.pricing-grid .price-card,
.resources-grid .resource-card { text-align: center; max-width: 420px; }

/* Ensure hero/media images are centered and responsive */
.hero-image, .chart-img { margin-left: auto; margin-right: auto; display: block; }
.media-card { margin-left:auto; margin-right:auto; }

/* Steps list: center the list block, keep list text left-aligned for readability */
.about-steps ol { display: inline-block; text-align: left; margin-left: auto; margin-right: auto; }

/* CTA rows always centered */
.cta-row { justify-content: center; }


/* Keep feature modal footer centered like Free Trial (row layout) */
#featureModal .azro-modal__foot{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: clamp(.5rem, 1.6vw, 1rem) !important;
  flex-wrap: wrap;
  text-align: center;
}
#featureModal .azro-modal__foot a{ color: var(--accent-a); text-decoration-thickness: 1.5px; text-underline-offset: 2px; }
#featureModal .azro-modal__foot span{ white-space: nowrap; }

/* Equalize disclosure row spacing */
#disclosure .methodology-link{
  margin: 0 !important;
  padding: .55rem 0 !important; /* same above/below for both rows */
}
#disclosure .methodology-link + .methodology-link{ margin-top: 0 !important; }

/* Branded asterisk link */
.asterisk-link{ color: var(--accent-a); text-decoration: none; }
.asterisk-link:hover, .asterisk-link:focus{ text-decoration: underline; text-decoration-thickness:1.5px; text-underline-offset: 2px; }

/* Subtle page dividers around the explanatory note, with equal outer spacing */
.feature-note--divided{
  padding: .8rem 0;
  border-top: 1px dashed rgba(255,255,255,.18);
  border-bottom: 1px dashed rgba(255,255,255,.18);
  max-width: 80ch;
  margin: .8rem auto; /* equal top/bottom spacing */
}


/* Center the Feature modal header text (title + subhead) */
#featureModal .azro-modal__head{
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
}
#featureModal .azro-modal__head > div{ margin-inline: auto; }
#featureModal .azro-modal__title,
#featureModal .azro-modal__sub{ text-align: center; }

/* Brand-colored links for disclosure PDFs and the asterisk */
#disclosure .methodology-link a{ color: var(--accent-a); text-decoration-thickness: 1.5px; text-underline-offset: 2px; }
.asterisk-link{ color: var(--accent-a); text-decoration: none; }
.asterisk-link:hover, .asterisk-link:focus{ text-decoration: underline; text-decoration-thickness:1.5px; text-underline-offset:2px; }

/* Ensure equal spacing for both disclosure rows */
#disclosure .methodology-link{ margin: 0 !important; padding: .6rem 0 !important; }
#disclosure .methodology-link + .methodology-link{ margin-top: 0 !important; }
#disclosure .methodology-link:last-of-type{ border-bottom: 1px dashed rgba(255,255,255,.18); }


/* === Feature Modal centering (header and footer) === */
#featureModal .azro-modal__head{
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
}
#featureModal .azro-modal__head > div{ margin-inline: auto !important; }
#featureModal .azro-modal__title,
#featureModal .azro-modal__sub{ text-align: center !important; }

/* Footer: center text and Done button with equal margins */
#featureModal .azro-modal__foot{
  display: block !important;
  text-align: center !important;
}
#featureModal .azro-modal__foot span{ display: inline; }
#featureModal .azro-modal__foot .azro-modal__close{
  display: inline-flex; margin-left: clamp(.75rem, 1.6vw, 1rem);
  vertical-align: middle;
}

/* Restore equal border look for the video placeholder box */
#featureModal .azro-modal__media{ padding: clamp(16px, 1.8vw, 18px) !important; }
#featureModal .azro-video{ position: relative; border-radius: 14px; }
#featureModal .azro-video::before{
  content: ""; position: absolute; inset: 0; border-radius: inherit;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
  pointer-events: none;
}
#featureModal .azro-video__ph{ border-radius: inherit; }


/* Brand color for PDF links and the asterisk */
#disclosure .methodology-link a{ color: var(--accent-a); text-decoration-thickness:1.5px; text-underline-offset:2px; }
.asterisk-link{ color: var(--accent-a); text-decoration: none; }
.asterisk-link:hover,.asterisk-link:focus{ text-decoration: underline; text-decoration-thickness:1.5px; text-underline-offset:2px; }

/* Equalize spacing for both disclosure rows */
#disclosure .methodology-link{ margin: 0 !important; padding: .6rem 0 !important; }
#disclosure .methodology-link + .methodology-link{ margin-top: 0 !important; }


/* === Fine‑tune equal spacing around divided note (page dividers) === */
.feature-note--divided{
  margin: 1rem auto !important;      /* a touch more space under the bottom divider */
  padding: .9rem 0 !important;       /* balanced internal space */
}

/* === Ensure the modal text box has an equal border & equal insets on all sides === */
#featureModal .azro-modal__media{
  display: grid !important;          /* center the inner box perfectly */
  place-items: center !important;
  box-sizing: border-box !important;
  padding: clamp(12px, 1.8vw, 16px) !important;
}
#featureModal .azro-modal__media::after{
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;               /* equal border thickness on all sides */
  border-radius: inherit !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.12) !important;
  pointer-events: none !important;
}
#featureModal .azro-video__ph{
  margin: 0 !important;
  width: 100% !important;
  aspect-ratio: 16/9 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1.25 !important;      /* helps visually center multi-line placeholder text */
}

/* === Targeted refinements (2025-09-27) ==============================
   NOTE: Carefully scoped to avoid any unintended site-wide changes.
   - Card titles: avoid single-word last lines and balance wrapping.
   - About page (mobile): widen readable measure.
   - Modal windows: fix clipping + spacing; outline behavior for "Done".
   - PDF links (About): keep "Read the PDF" on one line for parity.
   - Resources page: ensure centered and not cut off on mobile.
===================================================================== */

/* --- Resources: card titles & layout --- */
.resources-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: clamp(14px, 2.8vw, 22px);
  justify-items: center;
  align-items: stretch;
  width: min(1100px, 92vw);
}
.resources-grid .resource-card {
  text-align: center;
  max-width: 420px;
}
/* Title text: balance lines, avoid orphan word */
.resources-grid .resource-card span {
  display: block;
  line-height: 1.22;
  /* Progressive enhancement; falls back gracefully */
  text-wrap: balance;
  /* Constrain measure so long titles don't produce an orphan last line */
  max-inline-size: 28ch;
  margin-inline: auto;
}

/* --- About page readability on mobile --- */
@media (max-width: 600px) {
  .about-hero .hero-text { max-width: 94vw; }
  .about-hero .panel { padding: clamp(14px, 3.5vw, 18px) clamp(14px, 4vw, 22px); }
  /* Let paragraphs use the available width on small screens */
  .about-hero .measure { max-width: 100% !important; }
}

/* --- About: keep 'Read the PDF' on one line --- */
.methodology-link a { white-space: nowrap; }

/* --- Modal windows: robust centering, scrolling, spacing --- */
dialog.azro-modal {
  border: none;
  border-radius: 12px;
  padding: 0;
  width: min(960px, 96vw);
}
dialog.azro-modal[open] { position: fixed; inset: 0; margin: auto; }
dialog.azro-modal > form {
  display: grid;
  grid-template-rows: auto 1fr auto;  /* head | scroll | foot */
  max-height: min(92dvh, 720px);
}
.azro-modal__scroll {
  overflow: auto;
  overscroll-behavior: contain;
  padding: 0 clamp(14px, 2.4vw, 24px);
}
.azro-modal__body {
  display: grid;
  gap: clamp(14px, 2.4vw, 24px);
}

/* Better spacing in the modal footer on small screens */
@media (max-width: 600px) {
  .azro-modal__foot { padding: clamp(12px, 2.8vw, 16px) clamp(14px, 4vw, 20px); }
}

/* --- Modal 'Done' button ring behavior --- */
.azro-modal__close { outline: none; }
.azro-modal__close:focus { outline: none; }        /* no initial blue outline */
.azro-modal__close:focus-visible,
.azro-modal__close:active {
  outline: 2px solid var(--accent-a);
  outline-offset: 2px;
}

/* --- Resources page centering on mobile --- */
.hero .hero-text.resources-page.container {
  margin-inline: auto;
  max-width: min(1100px, 92vw);
}


/* ===== Targeted polish (2025‑09‑27) — minimal, non‑textual changes only ===== */

/* -- A. Resources cards: avoid orphan words, improve wrapping, balance lines -- */
.resources-grid {
  /* ensure cards have a reasonable minimum width and grid auto-fit */
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: clamp(14px, 1.8vw, 24px);
  justify-items: stretch;
}
.resource-card.card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: clamp(14px, 1.6vw, 18px) clamp(16px, 2vw, 20px);
  text-align: left;
}
.resource-card.card span {
  display: inline-block;
  text-wrap: balance;         /* modern browsers: nicer line breaks */
  word-break: keep-all;
}

/* -- B. About page: easier reading on mobile without changing copy -- */
@media (max-width: 600px) {
  .about-hero .panel {        /* widen hero copy block a touch */
    max-width: 94vw;
  }
  .about-hero .h-lead.measure {
    max-width: 36em;          /* wider measure so lines aren't too short */
    line-height: 1.65;        /* slightly more breathing room */
  }
}

/* -- C. Modal windows: never cut off, tidy spacing, predictable scroll -- */
.azro-modal {
  max-height: calc(100dvh - clamp(24px, 4vh, 48px));
  display: grid;
  grid-template-rows: auto minmax(0, 1fr) auto;
}
.azro-modal[open] {            /* center within viewport with safe inset */
  position: fixed;
  inset: clamp(12px, 2vh, 20px);
  margin: auto;
}
.azro-modal__scroll {
  overflow: auto;
  overscroll-behavior: contain;
  padding: 0 clamp(16px, 2vw, 24px);
}

/* Head / body / footer spacing */
.azro-modal__head { padding: clamp(12px, 1.6vw, 16px) clamp(16px, 2vw, 20px); }
.azro-modal__body { gap: clamp(12px, 1.6vw, 20px); }
.azro-modal__foot {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: clamp(12px, 1.6vw, 16px) clamp(16px, 2vw, 20px);
  border-top: 1px dashed rgba(255,255,255,.18);
}

/* Keep modal media padded on all screens */
.azro-modal__media { padding: clamp(12px, 1.8vw, 18px) !important; }

/* -- D. Done button ring behavior: show only on click (not on initial focus) -- */
.azro-modal__close { outline: none; }
.azro-modal__close:focus { outline: none; }                 /* prevent initial blue outline */
.azro-modal__close:focus-visible { outline: none !important; }  /* keep keyboard focus ring off just for this button */
.azro-modal__close:active {
  outline: 2px solid var(--accent-a);
  outline-offset: 2px;
}

/* -- E. PDF link: keep “Read the PDF” on one line in text blocks -- */
a[href$=".pdf"]:not(.resource-card) { white-space: nowrap; }

/* -- F. Resources page centering on mobile (prevent cut‑off) -- */
.hero .hero-text.resources-page.container {
  margin-inline: auto;
  max-width: min(1100px, 92vw);
}


/* Micro‑tweak for ultranarrow devices so card labels don't break awkwardly */
@media (max-width: 380px) {
  .resource-card.card span { font-size: 0.96rem; }
}


/* ===== Modal mobile refinements (2025‑09‑27B) =========================
   Fixes: top text clipping, bottom footer overflow & spacing on narrow screens.
   These rules override earlier blocks, leaving HTML and content untouched.
======================================================================= */

/* Establish a robust grid: head | scroll | foot */
.azro-modal form{
  display: grid;
  grid-template-rows: auto 1fr auto;
  max-height: min(92dvh, 720px);
}

/* Give the scroll region real top/bottom padding so text never touches edges */
.azro-modal__scroll{
  padding: clamp(14px, 2.2vw, 20px) clamp(16px, 2vw, 24px) !important;
  overflow: auto;
  overscroll-behavior: contain;
}

/* Comfortable spacing in the footer, centered layout */
.azro-modal__foot{
  padding: clamp(12px, 1.8vw, 16px) clamp(16px, 2vw, 24px);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  text-align: center;
}

/* Allow the long product line to wrap instead of overflowing */
#featureModal .azro-modal__foot span{
  white-space: normal !important;
  text-wrap: balance;
  overflow-wrap: anywhere;
  display: block;
}

/* Ensure the "Done" button sits nicely below when space is tight */
@media (max-width: 440px){
  #featureModal .azro-modal__foot span{ flex-basis: 100%; margin-bottom: .25rem; }
}

