<!DOCTYPE html>

<html lang="en">
<head>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/> <style id="header-placeholder">
/* placeholder to eliminate background flash before header mounts */
body::before{
content:'';
position:fixed;
top:0;
left:0;
width:100%;
height:120px; /* approximate header height */
background:#0e1b4c;
background-image:linear-gradient(90deg,#0e1b4c 0%,#250c58 100%);
z-index:9998;
pointer-events:none;
}
</style> <style id="critical-header-bg">
/* critical header background — prevents first‑paint flash */
.site-header{
background:linear-gradient(90deg,#0e1b4c 0%,#250c58 100%) !important;
transition:none !important;
}
</style> <meta charset="utf-8"/>
<!-- ———— SOCIAL PREVIEW ———— -->
<!-- Twitter / X -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@AzroSystems" name="twitter:site"/>
<meta content="AZRO Systems — Institutional-grade logic, retail-friendly setup" name="twitter:title"/>
<meta content="Cycle-timing tools that spot XRP tops &amp; bottoms weeks before headlines." name="twitter:description"/>
<meta content="https://azrosystems.com/og-card.png" name="twitter:image"/> <!-- Open Graph (FB / LinkedIn / Discord) -->
<meta content="https://azrosystems.com/" property="og:url"/>
<meta content="website" property="og:type"/>
<meta content="AZRO Systems — Institutional-grade logic, retail-friendly setup" property="og:title"/>
<meta content="Cycle-timing tools that spot XRP tops &amp; bottoms weeks before headlines." property="og:description"/>
<meta content="https://azrosystems.com/og-card.png" property="og:image"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<!-- ———— END SOCIAL PREVIEW ———— --> <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>The XRP Top/Bottom Detector</title>
<!-- Fonts & preloads -->
<link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;800&amp;display=swap" rel="stylesheet"/>
<link as="image" href="logo.webp" rel="preload"/>
<link as="image" href="coolback.webp" rel="preload"/>
<link as="image" href="newchart.webp" rel="preload"/>
<link href="style.css" rel="stylesheet"/>
<link href="brand.css" rel="stylesheet"/><!-- mobile helper CSS -->
<style> @media (max-width:900px) { .hero-text p:first-of-type { font-size: 1.3rem; } .hero-text p { font-size: 1.2rem; } .hero-image { width: 100vw; max-width: none; margin: 0 calc(-50vw + 50%) 24px !important; } .hero-image img { width: 100%; max-width: none; border-radius: 0; } } /* Landscape mobile tweaks (about page) */ @media (max-width: 900px) and (orientation: landscape) { .hero-image picture, .hero-image img { width: 100vw !important; max-width: none !important; margin: 0 calc(-50vw + 50%) 24px !important; border-radius: 0 !important; } .hero-image + p, .chart-note { text-align: center !important; margin-left: auto !important; margin-right: auto !important; } } @media (max-width: 900px) and (orientation: landscape) { .hero-image { max-width: none !important; } }
</style>
<link href="https://USER.github.io/" rel="canonical"><meta content="AZRO Systemsdevelops precision trading tools for crypto enthusiasts who value clarity over clutter. Our flagship product, the Top/Bottom Dete" name="description"/> <meta content="Learn how AZRO Systems empowers crypto investors through precision cycle‑detection tools." name="description"/>
<link href="https://azrosystems.com/about.html" rel="canonical"> <script src="https://unpkg.com/@hotwired/turbo@9.0.0/dist/turbo.es.js" type=""></script> <link href="favicon-32.png" rel="icon" sizes="32x32" type="image/png"/> <link href="favicon-162.png" rel="icon" sizes="162x162" type="image/png"/>
</link></link><style id="about-hero-mobile-tune">
@media (max-width: 600px){
  .hero .hero-text{ padding-left: 26px !important; padding-right: 26px !important; }
  .hero .hero-text > h1{
    font-size: clamp(2.6rem, 6.6vw + 0.5rem, 3.2rem) !important;
    line-height: 1.12 !important;
  }
}
</style>
<style id="trial-modal-centering-v2">
dialog#trialModal .azro-modal__foot{ justify-content:center !important; }
dialog#trialModal .azro-modal__title, dialog#trialModal .azro-modal__sub{ text-align:center !important; }
dialog#trialModal .azro-modal__scroll{ overflow:auto; overscroll-behavior:contain; }
dialog#trialModal{ max-height: 92vh; }

<style id="trial-modal-button-centering">
/* Scope strictly to the Free Trial dialog */
dialog#trialModal .azro-modal__redeem-cta{
  display: grid;
  justify-items: center;
}
dialog#trialModal .azro-modal__redeem-cta .btn{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center;
  white-space: nowrap;
  line-height: 1.1;
  min-height: 44px; /* accessible tap target */
  padding: clamp(12px, 1vw + 10px, 14px) clamp(18px, 1.5vw + 14px, 24px);
}
dialog#trialModal #trialCodeBox{ gap: .5rem; } /* consistent rhythm */
dialog#trialModal .azro-modal__foot{ justify-content:center !important; }
dialog#trialModal .azro-modal__body{ gap: clamp(16px, 2vw, 24px); }
@media (max-width: 900px){
  dialog#trialModal .azro-modal__body{ grid-template-columns: 1fr; }
}
</style>
<style id="disclosure-spacing-fix">
#disclosure{ padding: .9rem 1.0rem; }
#disclosure p{ margin: .45rem 0; }
#disclosure .methodology-link{ margin-top:.65rem; padding-top:.35rem; border-top:1px dashed rgba(255,255,255,.18); }
</style>
<style id="azro-popup-close-hide">
  .azro-modal__head .azro-modal__close{ display:none !important; }
</style>
<style id="azro-trial-rightcol-inside">
  /* Shorter box */
  dialog#trialModal .azro-modal__media .azro-video{ aspect-ratio: auto !important; position: relative; padding: clamp(16px, 2vw, 22px); margin-bottom: 16px; }
  /* Ring on the video only (not the container), so instructions aren't inside ring */
  dialog#trialModal .azro-modal__media::after{ display: none !important; }
  dialog#trialModal .azro-modal__media{ padding: 16px !important; }
  dialog#trialModal .azro-modal__media .azro-video::before{
    content: ""; position: absolute; inset: 0; border-radius: inherit;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.12); pointer-events: none;
  }
  /* Instruction block directly under the box, compact */
  dialog#trialModal .trial-instructions{ margin: 0; }
  dialog#trialModal .trial-steps-tight{
    list-style: disc inside; padding-left: 0; margin: 0;
    color: var(--text-sub, #cbd5e1);
    font-size: clamp(.80rem, .18vw + .78rem, .90rem);
    line-height: 1.32;
    display: grid; gap: .22rem;
  }
  /* Responsive: if the layout stacks, let it breathe a bit */
  @media (max-width: 900px){
    dialog#trialModal .trial-instructions{ margin-top: 0; }
  }
</style>
<style>
/* === About page — Feature modal mobile centering & scrollbar-hide (scoped) === */
@media (max-width: 900px){
  dialog#featureModal.azro-modal[open]{
    position: fixed !important;
    top: 50% !important; left: 50% !important;
    transform: translate(-50%, -50%) !important;
    margin: 0 !important; right: auto !important; bottom: auto !important;
    width: min(94vw, 720px) !important; padding: 0 !important;
  }
  dialog#featureModal.azro-modal > form{ width: 100% !important; margin: 0 !important; }

  /* Symmetric inner padding */
  dialog#featureModal.azro-modal .azro-modal__head,
  dialog#featureModal.azro-modal .azro-modal__scroll,
  dialog#featureModal.azro-modal .azro-modal__foot{
    box-sizing: border-box !important;
    padding-inline: clamp(16px, 4vw, 22px) !important;
    width: 100% !important; margin: 0 !important;
  }

  /* Hide scrollbar to remove visual right-bias while keeping scroll enabled */
  dialog#featureModal.azro-modal .azro-modal__scroll{
    -ms-overflow-style: none;       /* IE/Edge */
    scrollbar-width: none;          /* Firefox */
  }
  dialog#featureModal.azro-modal .azro-modal__scroll::-webkit-scrollbar{
    width: 0 !important; height: 0 !important; display: none !important;
    background: transparent !important;
  }

  /* Typography balance */
  dialog#featureModal.azro-modal .azro-modal__title,
  dialog#featureModal.azro-modal .azro-modal__sub{ text-wrap: balance; }
}
</style><style id="modal-landscape-consistent-fixes">
/* Landscape pop-up balance (scoped to AZRO modals only) */
@media (orientation: landscape){
  dialog.azro-modal{
    --azr-land-pad: clamp(14px, 2vh, 18px);
    --azr-land-extra-top: 10px;    /* extra breathing room above */
    --azr-land-extra-bottom: 14px; /* slightly more under footer text/button */
  }

  /* Header: give the title/sub a touch more space above */
  dialog.azro-modal .azro-modal__head{
    padding-top: calc(var(--azr-land-pad) + var(--azr-land-extra-top)) !important;
    padding-bottom: var(--azr-land-pad) !important;
  }

  dialog.azro-modal .azro-modal__title,
  dialog.azro-modal .azro-modal__sub{
    text-align: center !important;
    margin-inline: auto !important;
  }

  /* Footer: keep as a single centered row with equal feel below */
  dialog.azro-modal .azro-modal__foot{
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-wrap: nowrap !important;
    gap: 12px !important;
    text-align: center !important;
    padding-top: var(--azr-land-pad) !important;
    padding-bottom: calc(var(--azr-land-pad) + var(--azr-land-extra-bottom)) !important;
    padding-left: clamp(16px, 3vw, 24px) !important;
    padding-right: clamp(16px, 3vw, 24px) !important;
  }
  /* Keep items together and sized by their content */
  dialog.azro-modal .azro-modal__foot > span,
  dialog.azro-modal .azro-modal__foot > .azro-modal__close{
    display: inline-flex !important;
    flex: 0 0 auto !important;
  }
  /* Prevent the long footer text from breaking onto multiple lines
     so the Done button stays right next to it. */
  dialog.azro-modal .azro-modal__foot > span{
    white-space: nowrap !important;
    line-height: 1.25 !important;
  }
}
</style>
<style id="feature-modal-landscape-fixes">
@media (orientation: landscape){
  dialog#featureModal.azro-modal.landscape-active .azro-modal__media .azro-video{
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    overflow: hidden !important;
  }
  dialog#featureModal.azro-modal.landscape-active .preview-video-btn-wrap{
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: clamp(8px, 2vh, 16px) auto !important;
  }
}
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>
<a id="main" tabindex="-1"></a>
<header class="site-header" data-turbo-permanent="" style="background:#0e1b4c !important; background-image:linear-gradient(90deg,#0e1b4c 0%,#250c58 100%) !important; transition:none !important;">
<a href="index.html"><picture><source srcset="logo.avif" type="image/avif"/><source srcset="logo.webp" type="image/webp"/><img alt="AZRO Systems logo" height="200" src="logo.png" width="200"/></picture></a>
<nav class="nav">
<a href="index.html">HOME</a>
<a href="features.html">FEATURES</a>
<a href="pricing.html">PRICING</a>
<a href="resources.html">RESOURCES</a>
</nav>
</header>
<section class="hero about-hero section-scrim">
<div class="hero-text container">
<div class="panel"><h1>Map the cycle. Cut the noise.</h1>
<p class="h-eyebrow" style="margin-top:.2rem;"><a class="eyebrow-link" href="https://www.tradingview.com/script/4M3OWBpz-AZRO-Systems-XRP-Top-Bottom-Indicator-Invite-Only/" rel="noopener" target="_blank">XRP TradingView® Indicator</a></p>
<p class="h-lead measure">AZRO Systems™ develops future-ready tools that demystify complex markets, flagging major opportunity and risk levels before the crowd reacts. The XRP Top/Bottom Detector is live on TradingView: it prints buy/sell labels at likely cycle turns, sends device alerts, and adds market-wide elevated-risk and top warnings—so you act with a plan, not emotion. Stop guessing the top. Stop missing the bottom.</p>
<p class="h-lead measure">Works out of the box—no complex tuning. Load, set alerts, done. Catch more of the move, stomach less of the pain.</p>
<div class="cta-row">
<a class="btn btn--primary" href="https://azrosystems.gumroad.com/l/kuvbu">Buy Now on Gumroad</a>
<button class="btn" id="freeTrialBtn" type="button">Free trial</button>
</div>
<figure class="media-card">
<div class="media">
<video aria-label="AZRO chart demonstration video" autoplay="" class="about-chart-video" loop="" muted="" playsinline="" preload="auto" style="display:block;width:100%;height:100%;object-fit:contain;object-position:center;border-radius:inherit;background:#000;">
<source src="main.mp4" type="video/mp4"/>
<!-- Fallback image if video unsupported -->
<img alt="Example chart with Major Top and Major Bottom labels" height="800" src="newchart.png" width="1400"/>
</video>
</div>
<figcaption>Labels and risk markers display on your chart—instant alerts to your device/email from TradingView.</figcaption>
</figure>
<h2 class="h-subhead" style="text-align:center; margin-top:1rem; margin-bottom:.4rem;">Proven on 10 years of historical data. Beats XRP HODL.<sup><a class="asterisk-link" href="https://azrosystems.com/pdfs/methodology-overview.pdf" rel="noopener" target="_blank">*</a></sup></h2><p class="h-subhead" style="text-align:center;margin-top:.35rem;">A simple strategy rule—buy MAJOR Bottoms, sell MAJOR Tops.</p>
<div class="stat-grid">
<div class="stat-card">
<div class="value">~9x</div>
<div class="label">more total profit vs. XRP buy-and-hold</div>
</div>
<div class="stat-card">
<div class="value">~6x</div>
<div class="label">lower max drawdown vs. XRP buy-and-hold</div>
</div>
<div class="stat-card">
<div class="value">Market De-Risk</div>
<div class="label">Cross-pair Top Warning precedes alt drawdowns</div>
</div>
</div>
<h2 class="h-subhead">On‑chart labels &amp; instant alerts</h2>
<div class="grid-3">
<div class="card">
<h3>MAJOR Top / MAJOR Bottom (XRP)</h3>
<p>Cycle‑level confirmations for bigger swing entries/exits.</p>
</div>
<div class="card">
<h3>RADAR Top / RADAR Bottom (XRP)</h3>
<p>Earlier heads‑ups for planned scale‑ins/outs and mid‑cycle moves.</p>
</div>
<div class="card">
<h3>LIGHT Tops &amp; Bottoms (XRP)</h3>
<p>Stay proactive between major turns.</p>
</div>
<div class="card">
<h3>Elevated Risk (XRP &amp; Market‑Wide)</h3>
<p>Persistent caution markers when conditions worsen.</p>
</div>
<div class="card">
<h3>Market‑Wide Top Warning (non‑XRP)</h3>
<p>Optional overlay: when many coins meet top conditions, signal clear market‑wide caution.</p>
</div>
</div>
<div class="stack" style="--stack-gap: .6rem; margin-top:.6rem;">
<h2 class="h-subhead">How it works</h2>
<ol class="measure" style="padding-left:1.1rem; line-height:1.6;">
<li><strong>Load</strong> the indicator. No complex tuning.</li>
<li><strong>Set alerts</strong> to your device via TradingView.</li>
<li><strong>Execute your plan:</strong> visualize the cycle, evaluate buy/sell zones, protect gains.</li>
</ol>
</div>
<div class="cta-row">
<a class="btn btn--primary" href="https://azrosystems.gumroad.com/l/kuvbu">Buy Now on Gumroad</a>
<button class="btn" id="freeTrialBtn2" type="button">Free trial</button>
</div>
<p class="h-muted measure">Additional crypto‑asset models are in active development.</p>
<details class="disclosure-box measure" id="disclosure" style="margin-top: .9rem;">
<summary><strong>Important disclosure</strong></summary>
<p>
          * Performance figures are <strong>hypothetical</strong> backtests and not actual trading results.
          Past performance does not guarantee future results. Indicators are tools, not advice; trading involves risk,
          including possible loss of principal.
        </p>
<p class="methodology-link">Methodology overview: <a href="https://azrosystems.com/pdfs/methodology-overview.pdf" rel="noopener" target="_blank">Read the PDF</a></p>
<p class="methodology-link">Risk disclosure: <a href="https://azrosystems.com/pdfs/risk-disclosure.pdf" rel="noopener" target="_blank">Read the PDF</a></p></details>
<p class="h-muted">Built and maintained in the United States.</p>
</div>
</div>
</section>
<footer class="footer" data-turbo-permanent=""> 2025 AZRO Systems™ · A brand of Azro Labs LLC · UT Entity #14569235‑0160 · NOT IA/CTA (CFTC 4.14(a)(9)) MADE IN THE USA · support@azrosystems.com · <a aria-label="Azro Systems on X" href="https://x.com/AzroSystems" rel="noopener noreferrer" target="_blank"><svg class="x-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h5.6L12 9.8 18.4 0H24L15 12l9 12h-5.6L12 14.2 5.6 24H0l9-12L0 0z"></path></svg></a>
</footer>
<div class="sticky-cta">
<a class="btn" href="https://azrosystems.gumroad.com/l/kuvbu">Buy Now on Gumroad</a>
</div>
<script defer="" src="script.js"></script>
<style id="azro-modal-styles">
/* === Cards layout: stack, center, wider, centered text ================= */
.azro-oclai .grid-3{
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: clamp(.65rem, 1.6vw, .9rem) !important;
  justify-items: center;
  width: 100%;
  margin-inline: auto;
}
.azro-oclai .grid-3 .card{
  width: min(1040px, 100%);
  padding: clamp(14px, 1.6vw, 18px) clamp(18px, 2.2vw, 24px);
  text-align: center;
}
.azro-oclai .grid-3 .card h3,
.azro-oclai .grid-3 .card p{ text-align: center !important; }
@media (max-width: 520px){
  .azro-oclai .grid-3 .card{ width: 96%; }
}

/* === Feature Modal (centered, responsive, generous padding) ============ */
.azro-modal[open]{ display:block; }
.azro-modal {
  position: fixed;
  inset: 0;
  margin: auto;
  width: min(980px, 94vw);
  max-height: 90svh; max-height: 90vh;
  overflow: hidden;
  padding: 0;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(14,27,76,.96), rgba(37,12,88,.96));
  color: var(--text-body, #E0E0E0);
  box-shadow: 0 40px 120px rgba(0,0,0,.55);
}
.azro-modal::backdrop{
  background: rgba(2,6,23,.66);
  backdrop-filter: blur(2px);
}
.azro-modal__head{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  padding: clamp(16px, 2.4vw, 22px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.azro-modal__title{
  margin: 0;
  font: 800 clamp(1.2rem, .9vw + 1rem, 1.6rem)/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text-head, #fff);
  text-align: center;
}
.azro-modal__sub{
  margin: 4px 0 0;
  color: var(--text-sub, #cbd5e1);
  font-size: clamp(.95rem, .3vw + .9rem, 1.05rem);
  text-align: center;
}
.azro-modal__close{
  appearance: none;
  border: 1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color: var(--text-body, #fff);
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
}

.azro-modal__scroll{ overflow: auto; max-height: calc(90svh - 58px - 56px); max-height: calc(90vh - 58px - 56px); }

.azro-modal__body{
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: clamp(16px, 2vw, 24px);
  padding: clamp(18px, 2.8vw, 28px);
}
@media (max-width: 900px){
  .azro-modal { width: min(760px, 96vw); }
  .azro-modal__body{ grid-template-columns: 1fr; }
}
@media (max-width: 520px){
  .azro-modal { width: 96vw; border-radius: 12px; }
}

.azro-modal__text{
  display: grid;
  gap: clamp(10px, 1.4vw, 14px);
  justify-items: center;
  text-align: center;
}
.azro-pill{
  display: inline-flex; align-items: center; gap: 8px;
  font-weight: 700; font-size: .85rem;
  padding: 8px 12px; border-radius: 999px; color: #fff;
  background: linear-gradient(90deg, var(--accent-a, #00e5ff), var(--accent-b, #8b46ff));
  box-shadow: 0 6px 22px rgba(0,0,0,.35);
  margin-inline: auto;
}
.azro-modal__text p,
.azro-modal__text ul{ max-width: 66ch; margin-inline: auto; }
.azro-modal__text ul{ list-style-position: inside; padding-left: 0; }
.azro-modal__text li{ margin: .35rem 0; }

.azro-modal__media{
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: clamp(12px, 1.8vw, 16px);
}
.azro-video{
  position: relative; width: 100%; aspect-ratio: 16 / 9;
  border-radius: 12px; overflow: hidden;
  background: linear-gradient(135deg, rgba(0,229,255,.18), rgba(139,70,255,.18));
  display: grid; place-items: center; color: var(--text-head, #fff);
}
.azro-video__ph{ font-weight: 800; letter-spacing: .3px; text-align: center; padding: 10px; }
.azro-video iframe, .azro-video video{ position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }

.azro-modal__foot{
  display: flex; justify-content: space-between; align-items: center; gap: 12px;
  border-top: 1px solid rgba(255,255,255,.08);
  padding: clamp(14px, 2.4vw, 20px);
  color: var(--text-sub, #cbd5e1); font-size: .95rem;
}

/* Hover micro-interaction retained */
.azro-oclai .grid-3 .card{
  cursor: pointer;
  transition: transform .08s ease, box-shadow .12s ease;
}
.azro-oclai .grid-3 .card:hover{
  transform: translateY(-2px);
  box-shadow: 0 18px 48px rgba(0,0,0,.35);
}

/* === Center "How it works" content & footer spacing =================== */
.about-hero .stack .h-subhead + ol,
.about-hero .howitworks-list{
  list-style-position: inside;
  padding-left: 0;
  margin: .4rem auto 1.2rem auto;
  text-align: center;
  max-width: 68ch;
}
.about-hero .stack .h-subhead + ol li{ margin: .25rem 0; }
.about-hero .stack .h-subhead{ text-align: center; }
.about-hero .h-muted{ text-align: center; margin-top: clamp(1.2rem, 3vw, 2.2rem); }

/* Eyebrow link styling for TradingView link */
.eyebrow-link{ color: var(--text-sub,#cbd5e1); text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.25); }
.eyebrow-link:hover{ color:#fff; border-bottom-color: rgba(255,255,255,.45); }

/* Feature section note (if needed) */
.feature-note{
  text-align: center;
  color: var(--text-sub, #cbd5e1);
  margin: .35rem auto 1.25rem;
  max-width: 80ch;
}
</style>
<!-- Feature Detail Modal (On‑chart labels & instant alerts) -->
<dialog aria-labelledby="fmTitle" class="azro-modal" id="featureModal">
<form method="dialog">
<div class="azro-modal__head">
<div>
<h3 class="azro-modal__title" id="fmTitle">Feature</h3>
<p class="azro-modal__sub" id="fmSub">—</p>
</div>
<button aria-label="Close" class="azro-modal__close" value="close">Close</button>
</div>
<div class="azro-modal__scroll">
<div class="azro-modal__body">
<div class="azro-modal__text">
<span class="azro-pill" id="fmBadge">On‑chart Label &amp; Alert</span>
<p id="fmDesc">This modal explains how the on‑chart label and instant alert work for this signal. We can expand this copy anytime.</p>
<ul id="fmBullets"></ul>
</div>
<div class="azro-modal__media">
<div aria-label="Feature demo video" class="azro-video" id="fmVideoBox" role="region">
<div class="azro-video__ph">Video placeholder (16:9)<br/>Add YouTube/Vimeo URL later.</div>
</div>
</div>
</div>
</div>
<div class="azro-modal__foot">
<span><strong>XRP Top/Bottom Indicator feature on TradingView®</strong></span>
<button class="azro-modal__close" value="close">Done</button>
</div>
</form>
</dialog>
<script id="azro-modal-script">
(function(){
  // Locate the "On‑chart labels & instant alerts" section by its H2
  const allH2 = Array.from(document.querySelectorAll('h2.h-subhead'));
  const targetH2 = allH2.find(h =>
    /on[\-\u2010\u2011]?chart labels\s*&\s*instant alerts/i.test(h.textContent.trim())
  );
  if(!targetH2) return;
  const section = targetH2.parentElement;
  section.classList.add('azro-oclai');

  const grid = section.querySelector('.grid-3');
  if(!grid) return;
  const cards = Array.from(grid.querySelectorAll('.card'));

  // Enrichment data for each card
  const ENRICH = {
    "MAJOR Top / MAJOR Bottom (XRP)": {
      tagline: "Cycle‑level confirmations for bigger swing entries/exits.",
      bullets: [
        "Printed on the chart exactly at the signal bar, with crystal‑clear label styling.",
        "Instant push/email alert containing the feature name, price, and timestamp.",
        "Designed for decisive swing calls at cycle inflection points."
      ],
      video: "main.mp4"
    },
    "RADAR Top / RADAR Bottom (XRP)": {
      tagline: "Earlier heads‑ups for planned scale‑ins/outs and mid‑cycle moves.",
      bullets: [
        "Provides early heads‑up for larger moves and helps identify mid‑cycle opportunities — useful for planning position sizing and risk.",
        "Pairs well with your ladder entries/exits playbook.",
        "Alerts keep you proactive when momentum shifts."
      ],
      video: "main.mp4"
    },
    "LIGHT Tops & Bottoms (XRP)": {
      tagline: "Stay proactive between major turns.",
      bullets: [
        "Higher cadence labels to help navigate chop without over‑trading.",
        "Pairs with medium‑term trend filters to avoid noise.",
        "Great for tactical trims/add‑backs."
      ],
      video: "main.mp4"
    },
    "Elevated Risk (XRP & Market‑Wide)": {
      tagline: "Persistent caution markers when conditions worsen.",
      bullets: [
        "Highlights regimes where risk increases and staying defensive pays.",
        "Optional market‑wide overlay to keep a broad read on conditions.",
        "Complements stop management and hedging rules."
      ],
      video: "main.mp4"
    },
    "Market‑Wide Top Warning (non‑XRP)": {
      tagline: "Optional overlay: when many coins meet top conditions, signal clear market‑wide caution.",
      bullets: [
        "Helps avoid isolated bias when the broader market shows exhaustion.",
        "Pairs with Major/Radar to confirm risk‑off pivots.",
        "Useful for cross‑asset exposure management."
      ],
      video: "main.mp4"
    }
  };

  const modal   = document.getElementById('featureModal');
  const fmTitle = document.getElementById('fmTitle');
  const fmSub   = document.getElementById('fmSub');
  const fmBadge = document.getElementById('fmBadge');
  const fmDesc  = document.getElementById('fmDesc');
  const fmBullets = document.getElementById('fmBullets');
  const fmVideo = document.getElementById('fmVideoBox');

  function openModalFromCard(card){
    const title = (card.querySelector('h3')?.textContent || 'Feature').trim();
    const sub   = (card.querySelector('p')?.textContent || '').trim();
    const e = ENRICH[title] || { tagline: sub, bullets: [], video: "main.mp4" };

    fmTitle.textContent = title;
    fmSub.textContent = e.tagline || sub;
    fmDesc.textContent = "How it works: " + (e.tagline || sub);
    fmBullets.innerHTML = "";
    (e.bullets || []).forEach(b => {
      const li = document.createElement('li');
      li.textContent = b;
      fmBullets.appendChild(li);
    });

    fmVideo.innerHTML='';
if(e.video){
  const isMp4=/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.video);
  if(isMp4){
    const video=document.createElement('video');
    video.className='azro-video__el';
    video.src=e.video;
    video.controls=true;
    video.playsInline=true;
    video.preload='metadata';
    fmVideo.appendChild(video);
  }else{
    const iframe=document.createElement('iframe');
    iframe.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
    iframe.setAttribute('allowfullscreen','');
    iframe.src=e.video;
    fmVideo.appendChild(iframe);
  }
}else{
      const ph = document.createElement('div');
      ph.className = 'azro-video__ph';
      ph.innerHTML = 'Video placeholder (16:9)<br/>Add YouTube/Vimeo URL later.';
      fmVideo.appendChild(ph);
    }

    modal.showModal();
  }

  // Backdrop click closes
  modal.addEventListener('click', (e) => { if(e.target === modal) modal.close(); });
  modal.addEventListener('close',()=>{const iframe=fmVideo.querySelector('iframe');if(iframe) iframe.src='about:blank';const vid=fmVideo.querySelector('video');if(vid){try{vid.pause();vid.currentTime=0;}catch(e){}}});

  cards.forEach(card => {
    card.addEventListener('click', () => openModalFromCard(card));
    card.setAttribute('role', 'button');
    card.setAttribute('tabindex', '0');
    card.addEventListener('keydown', (ev) => {
      if(ev.key === 'Enter' || ev.key === ' '){
        ev.preventDefault();
        openModalFromCard(card);
      }
    });
  });
})();
</script>
<style id="azro-trial-styles">
.eyebrow-link{ color: var(--text-sub,#cbd5e1); text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.25); }
.eyebrow-link:hover{ color:#fff; border-bottom-color: rgba(255,255,255,.45); }
</style>
<!-- Free Trial Modal -->
<dialog aria-labelledby="trialTitle" class="azro-modal" id="trialModal">
<form method="dialog">
<div class="azro-modal__head">
<div>
<h3 class="azro-modal__title" id="trialTitle" style="text-align:center;margin-inline:auto">Two‑week Free Trial</h3>
<p class="azro-modal__sub" style="text-align:center;margin-top:.25rem;margin-inline:auto">Unlock 14 days of access — no complex setup.</p>
</div>
<button aria-label="Close" class="azro-modal__close" value="close">Close</button>
</div>
<div class="azro-modal__scroll">
<div class="azro-modal__body">
<div class="azro-modal__text">
<span class="azro-pill">Welcome offer</span>
<p>Use this code at checkout to claim your two‑week free access:</p>
<div id="trialCodeBox" style="display:grid;gap:.5rem;justify-items:center;">
<code id="trialCode" style="font-weight:800; font-size:clamp(1.1rem,1.2vw+1rem,1.4rem); padding:.5rem 1rem; border-radius:10px; border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06);">AZRO‑2WEEK‑FREE</code>
<button class="azro-modal__close" id="copyTrialCode" style="border-radius:10px; padding:.5rem .9rem; border:1px solid rgba(255,255,255,.16);" type="button">Copy code</button>
</div>
<p style="font-size:.95rem; color:var(--text-sub,#cbd5e1)">Redeem on Gumroad when you check out.</p><div class="azro-modal__redeem-cta" style="display:grid;justify-items:center;margin:.55rem 0 0;"><a class="btn btn--primary" href="https://azrosystems.gumroad.com/l/kuvbu" rel="noopener" target="_blank">Redeem on Gumroad</a></div>
</div>
<div class="azro-modal__media">
<div aria-label="Free trial info" class="azro-video" role="region">
<div class="azro-video__ph">On-chart labels and alerts for top/bottom timing—Early, Light, Radar, and Major—plus Risk Levels and Altcoin Warnings. All features included. 14-day access.</div>
</div>
<div class="trial-instructions">
<ul class="trial-steps-tight">
<li><strong>No card required</strong> at Gumroad checkout.</li>
<li>Add your <strong>TradingView username</strong> (works with a <strong>free account</strong>).</li>
<li>Access within <strong>24 hours</strong>.</li>
<li>In TradingView: <em>Indicators → Invite‑only Scripts</em> → <strong>AZRO Systems XRP Top/Bottom — Invite‑Only</strong>.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="azro-modal__foot" style="justify-content:center;text-align:center">
<span>Questions? <strong>support@azrosystems.com</strong></span>
<button class="azro-modal__close" value="close">Done</button>
</div>
</form>
</dialog>
<script id="azro-trial-script">
(function(){
  const btn = document.getElementById('freeTrialBtn');
  const modal = document.getElementById('trialModal');
  const copyBtn = document.getElementById('copyTrialCode');
  const codeEl = document.getElementById('trialCode');

  if(btn && modal){
    btn.addEventListener('click', () => modal.showModal());
    modal.addEventListener('click', (e) => { if(e.target === modal) modal.close(); });
  }
  if(copyBtn && codeEl){
    copyBtn.addEventListener('click', async () => {
      try { await navigator.clipboard.writeText(codeEl.textContent.trim()); copyBtn.textContent = 'Copied!'; setTimeout(()=>copyBtn.textContent='Copy code', 1200); }
      catch(e){ copyBtn.textContent = 'Press Ctrl+C to copy'; setTimeout(()=>copyBtn.textContent='Copy code', 2000); }
    });
  }
})();
</script>
<script id="trialBtn2-wire">
(function(){ var b=document.getElementById('freeTrialBtn2');var m=document.getElementById('trialModal'); if(b&&m){b.addEventListener('click',function(){m.showModal();});}})();
</script>
<script defer="" src="about-video-fullscreen.js"></script>
<style id="azro-video-patch">
  #featureModal .azro-modal__media .azro-video{aspect-ratio:16/9;width:100%}
  #featureModal .azro-video-wrap{position:relative;width:100%;height:100%;background:#000;border-radius:12px;overflow:hidden}
  #featureModal .azro-video__el{width:100%;height:100%;object-fit:contain;display:block;background:#000}
  #featureModal .azro-video__expand{position:absolute;right:.5rem;bottom:.5rem;border:none;background:rgba(0,0,0,.45);color:#fff;padding:.35rem .55rem;border-radius:.5rem;font-size:.95rem;cursor:pointer;backdrop-filter:blur(2px)}

  /* Backdrop */
  dialog.azro-vidbox::backdrop{background:rgba(3,7,18,.68)}

  /* Center the dialog in a robust, modern way */
  dialog.azro-vidbox{border:none;border-radius:12px;padding:0;background:transparent;
    width:min(96vw,1200px);height:min(96vh,70vh)}

  /* Ensure centering across engines */
  dialog.azro-vidbox[open]{position:fixed;inset:0;margin:auto;display:block}
  @supports not (inset: 0){ dialog.azro-vidbox[open]{top:50%;left:50%;transform:translate(-50%,-50%)} }

  /* Inside frame */
  .azro-vidbox__frame{width:100%;height:100%;background:#000;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center}
  .azro-vidbox__video{width:100%;height:100%;object-fit:contain}
  .azro-vidbox__close{position:fixed;top:calc(2vh + 8px);right:calc(2vw + 8px);border:none;padding:.4rem .6rem;font-size:1.5rem;line-height:1;background:rgba(0,0,0,.55);color:#fff;border-radius:.5rem;cursor:pointer}
  @media (max-width:600px){dialog.azro-vidbox{height:min(96vh,72vh)}}
</style>
<script id="azro-video-injector">
(function(){
  function onReady(fn){ if(document.readyState!=='loading') fn(); else document.addEventListener('DOMContentLoaded',fn,{once:true}); }
  onReady(function(){
    var modal=document.getElementById('featureModal');
    var titleEl=document.getElementById('fmTitle');
    var videoBox=document.getElementById('fmVideoBox');
    if(!modal||!titleEl||!videoBox) return;

    function norm(s){return (s||'').toLowerCase()
      .replace(/[\u2010-\u2015]/g,'-').replace(/[:/]/g,' ')
      .replace(/&/g,'and').replace(/\s+/g,' ')
      .replace(/[^a-z0-9 ()-]/g,'').trim();}

    var titleToFile=new Map([
      ["MAJOR Top / MAJOR Bottom (XRP)","MAJOR Top : MAJOR Bottom (XRP).mov"],
      ["RADAR Top / RADAR Bottom (XRP)","RADAR Top : RADAR Bottom (XRP).mov"],
      ["LIGHT Tops & Bottoms (XRP)","LIGHT Tops & Bottoms (XRP).mov"],
      ["Elevated Risk (XRP & Market‑Wide)","Elevated Risk (XRP & Market‑Wide).mov"],
      ["Market‑Wide Top Warning (non‑XRP)","Market‑Wide Top Warning (non‑XRP).mov"]
    ]);
    var nmap={}; titleToFile.forEach(function(file,title){ nmap[norm(title)]=file; });

    function setupLightbox(){
      var dlg=document.createElement('dialog'); dlg.id='azroVidLightbox'; dlg.className='azro-vidbox'; dlg.setAttribute('aria-label','Video preview');
      dlg.innerHTML='<button class="azro-vidbox__close" aria-label="Close">×</button><div class="azro-vidbox__frame"></div>';
      document.body.appendChild(dlg);
      var frame=dlg.querySelector('.azro-vidbox__frame');
      dlg.addEventListener('click',function(e){ if(e.target===dlg) dlg.close(); });
      dlg.querySelector('.azro-vidbox__close').addEventListener('click',function(){ dlg.close(); });
      dlg.addEventListener('close',function(){ frame.innerHTML=''; });
      return { open:function(src){
        frame.innerHTML='';
        var v=document.createElement('video');
        v.className='azro-vidbox__video';
        v.setAttribute('autoplay',''); v.setAttribute('muted',''); v.setAttribute('playsinline','');
        v.setAttribute('controls',''); v.setAttribute('preload','auto');
        v.innerHTML='<source src="'+src+'">';
        frame.appendChild(v);
        try{ v.play().catch(function(){}); }catch(e){}
        try{ dlg.showModal(); }catch(e){}  // centered by CSS
      }};
    }
    var lightbox=setupLightbox();

    function injectVideo(){
      var key=norm((titleEl.textContent||'').trim());
      var file=nmap[key];
      if(!file) return;
      var src='videos/'+encodeURIComponent(file);

      videoBox.innerHTML='';
      var wrap=document.createElement('div');
      wrap.className='azro-video-wrap';
      wrap.innerHTML='<video class=\"azro-video__el\" autoplay muted loop playsinline preload=\"auto\"><source src=\""+src+"\" type=\""+(/\.mp4(\?.*)?$/i.test(src)?"video/mp4":"video/quicktime")+"\"></video><button class=\"azro-video__expand\" aria-label=\"Open video\">↗</button>';
      videoBox.appendChild(wrap);

      var vid=wrap.querySelector('video');
      var btn=wrap.querySelector('.azro-video__expand');
      function openBig(){ lightbox.open(src); }
      
      function ensureInlineAutoplay(el){
        try{
          el.muted = true; el.playsInline = true;
          el.setAttribute('playsinline',''); el.setAttribute('webkit-playsinline','');
          var p = el.play(); if(p && p.catch) p.catch(function(){});
        }catch(e){}
      }
vid.addEventListener('click',openBig,{passive:true});
      btn.addEventListener('click',openBig,{passive:true});
      try{ vid.muted=true; vid.play().catch(function(){}); }catch(e){}
    }

    new MutationObserver(function(){ if(modal.open) setTimeout(injectVideo,0); })
      .observe(modal,{attributes:true,attributeFilter:['open']});
  });
})();
</script>

<script id="azr-modal-toggle">
(function(){
  var m = document.getElementById('featureModal');
  if(!m) return;
  function sync(){ document.body.classList.toggle('azr-modal-open', !!m.open); }
  new MutationObserver(sync).observe(m, {attributes:true, attributeFilter:['open']});
  sync();
})();
</script>

<script id="azro-modal-video-immediate">
(()=>{
  const modal = document.getElementById('featureModal') || document.querySelector('dialog.azro-modal');
  const box = modal && (document.getElementById('fmVideoBox') || modal.querySelector('.azro-modal__media .azro-video'));
  if (!modal || !box) return;

  // Lightweight lightbox for preview
  function ensureVidBox(){
    let dlg = document.querySelector('dialog.azro-vidbox');
    if (!dlg){
      dlg = document.createElement('dialog');
      dlg.className = 'azro-vidbox';
      dlg.setAttribute('aria-label','Video preview');
      dlg.innerHTML = '<button class="azro-vidbox__close" aria-label="Close">×</button><div class="azro-vidbox__frame"></div>';
      document.body.appendChild(dlg);
      const frame = dlg.querySelector('.azro-vidbox__frame');
      dlg.addEventListener('click', e => { if (e.target === dlg) dlg.close(); });
      dlg.querySelector('.azro-vidbox__close').addEventListener('click', () => dlg.close());
      dlg.addEventListener('close', () => { try{ frame.innerHTML=''; }catch(_){} });
      dlg.openBox = (srcList) => {
        frame.innerHTML = '';
        const v = document.createElement('video');
        v.className = 'azro-vidbox__video';
        v.setAttribute('autoplay',''); v.setAttribute('muted',''); v.muted = true;
        v.setAttribute('playsinline',''); v.setAttribute('controls',''); v.setAttribute('preload','auto');
        (Array.isArray(srcList) ? srcList : [srcList]).forEach(u => {
          const s = document.createElement('source');
          s.src = String(u);
          s.type = /\.mov(\?.*)?$/i.test(u) ? 'video/quicktime' : 'video/mp4';
          v.appendChild(s);
        });
        frame.appendChild(v);
        try{ v.play().catch(()=>{}); }catch(_){}
        try{ dlg.showModal(); }catch(_){}
      };
    }
    return dlg;
  }

  // Hide faint ring only inside this modal
  if (!document.getElementById('azro-about-video-css')){
    const st = document.createElement('style'); st.id = 'azro-about-video-css';
    st.textContent = `dialog.azro-modal .azro-modal__media{position:relative}
    dialog.azro-modal .azro-modal__media::after{display:none!important}`;
    document.head.appendChild(st);
  }

  const EN = window.ENRICH || {};
  const NORM = s => (s||'').toLowerCase().replace(/[\u2010-\u2015]/g,'-').replace(/[\u00a0\u202f]/g,' ').replace(/\s+/g,' ').trim();
  const NMAP = Object.keys(EN).reduce((a,k)=> (a[NORM(k)] = EN[k], a), {});
  function sourcesFor(title){
    const e = NMAP[NORM(title)] || {};
    const raw = (e.video || 'main.mp4') + '';
    return raw.split('|').map(s => s.trim()).filter(Boolean);
  }

  function putVideo(){
    if (!modal.open) return;
    const title = (modal.querySelector('#fmTitle')?.textContent || '').trim();
    box.innerHTML = '';
    const v = document.createElement('video');
    v.className = 'azro-video__el';
    v.setAttribute('muted',''); v.muted = true;
    v.setAttribute('autoplay',''); v.setAttribute('loop',''); v.setAttribute('playsinline','');
    v.setAttribute('preload','metadata'); v.setAttribute('controls','');
    sourcesFor(title).forEach(u => {
      const s = document.createElement('source');
      s.src = String(u);
      s.type = /\.mov(\?.*)?$/i.test(u) ? 'video/quicktime' : 'video/mp4';
      v.appendChild(s);
    });
    box.appendChild(v);
    try{ v.play().catch(()=>{});}catch(_){}

    // Add overlay preview button (restores on mobile)
    const btn = document.createElement('button');
    btn.className = 'azro-video__expand';
    btn.type = 'button';
    btn.setAttribute('aria-label','Open video');
    btn.textContent = '↗';
    box.appendChild(btn);

    const vb = ensureVidBox();
    const srcs = sourcesFor(title);
    const openPreview = () => { try{ vb.openBox(srcs); }catch(_){} };
    btn.addEventListener('click', openPreview, { passive: true });
    v.addEventListener('click', openPreview, { passive: true });
  }

  new MutationObserver(putVideo).observe(modal, { attributes: true, attributeFilter: ['open'] });
  // In case modal is opened programmatically before this script executes
  if (modal.open) putVideo();
})();
</script>


<!-- START: ULTRA fail-safe modal video (scoped) -->
<script>
(()=>{
  const onReady = (fn)=> (document.readyState!=='loading'?fn():document.addEventListener('DOMContentLoaded',fn,{once:true}));
  onReady(()=>{
    const modal = document.getElementById('featureModal') || document.querySelector('dialog.azro-modal');
    if(!modal) return;
    if(!document.getElementById('azro-ultra-css')){
      const st = document.createElement('style'); st.id='azro-ultra-css';
      st.textContent = `#featureModal .azro-modal__media .azro-video{position:relative;width:100%;background:#000;border-radius:12px;overflow:hidden;min-height:clamp(180px,52vw,420px)}@supports (aspect-ratio:16/9){#featureModal .azro-modal__media .azro-video{aspect-ratio:16/9}}#featureModal .azro-modal__media video{display:block!important;width:100%!important;height:100%!important;object-fit:contain!important;background:#000;opacity:1!important;visibility:visible!important}#featureModal .azro-video__expand{position:absolute;right:12px;bottom:12px;display:inline-flex!important;align-items:center;justify-content:center;width:44px;height:44px;border-radius:999px;background:rgba(0,0,0,.55);color:#fff;border:1px solid rgba(255,255,255,.25);z-index:11}dialog.azro-vidbox{border:none;border-radius:12px;padding:0;background:transparent;width:min(96vw,1200px);height:min(96vh,70vh)}dialog.azro-vidbox[open]{position:fixed;inset:0;margin:auto;display:block}dialog.azro-vidbox::backdrop{background:rgba(3,7,18,.68)}.azro-vidbox__frame{width:100%;height:100%;background:#000;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center}.azro-vidbox__video{width:100%;height:100%;object-fit:contain}.azro-vidbox__close{position:absolute;right:10px;top:10px;width:40px;height:40px;border-radius:999px;border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.45);color:#fff;font-size:20px;line-height:1;display:flex;align-items:center;justify-content:center;cursor:pointer}`;
      document.head.appendChild(st);
    }
    const ensureVidBox = ()=>{
      let dlg = document.querySelector('dialog.azro-vidbox');
      if(!dlg){
        dlg = document.createElement('dialog'); dlg.className='azro-vidbox';
        dlg.innerHTML = '<button class="azro-vidbox__close" aria-label="Close">×</button><div class="azro-vidbox__frame"></div>';
        document.body.appendChild(dlg);
        dlg.addEventListener('click',e=>{ if(e.target===dlg) dlg.close(); });
        dlg.querySelector('.azro-vidbox__close').addEventListener('click',()=>dlg.close());
        dlg.openBox = (src) => {
          const frame = dlg.querySelector('.azro-vidbox__frame'); frame.innerHTML='';
          const v = document.createElement('video');
          v.className='azro-vidbox__video';
          v.setAttribute('autoplay',''); v.autoplay=true;
          v.setAttribute('muted',''); v.muted=true;
          v.setAttribute('loop',''); v.loop=true;
          v.setAttribute('playsinline',''); v.playsInline=true;
          v.setAttribute('controls',''); v.preload='auto';
          const s = document.createElement('source'); s.src=String(src); s.type=/\.mov(\?.*)?$/i.test(src)?'video/quicktime':'video/mp4';
          v.appendChild(s); frame.appendChild(v);
          try{ v.play().catch(()=>{});}catch(_){}; try{ dlg.showModal(); }catch(_){}
        };
      }
      return dlg;
    };
    const putVideo=()=>{
      if(!modal.open) return;
      document.documentElement.classList.add('azr-modal-open');
      let media=modal.querySelector('.azro-modal__media');
      if(!media){ const sc=modal.querySelector('.azro-modal__scroll')||modal; const body=sc.querySelector('.azro-modal__body')||sc; media=document.createElement('div'); media.className='azro-modal__media'; body.appendChild(media); }
      let box=media.querySelector('.azro-video'); if(!box){ box=document.createElement('div'); box.className='azro-video'; media.appendChild(box); }
      if(box.querySelector('video,iframe')) return;
      const url1='main.mp4', url2='videos/main.mp4';
      const v=document.createElement('video'); v.className='azro-video__el';
      v.setAttribute('autoplay',''); v.autoplay=true; v.setAttribute('muted',''); v.muted=true; v.setAttribute('loop',''); v.loop=true; v.setAttribute('playsinline',''); v.playsInline=true; v.setAttribute('controls',''); v.preload='metadata';
      v.style.width='100%'; v.style.height='100%'; v.style.minHeight='inherit'; v.style.background='#000';
      const s=document.createElement('source'); s.src=url1; s.type='video/mp4'; v.appendChild(s); box.appendChild(v);
      let fb=false; const tryPlay=()=>{ try{ v.play().catch(()=>{});}catch(_){} }; const swap=()=>{ if(fb)return; fb=true; try{s.remove();}catch(_){ } const s2=document.createElement('source'); s2.src=url2; s2.type='video/mp4'; v.appendChild(s2); tryPlay(); };
      v.addEventListener('error', swap, {once:true}); setTimeout(()=>{ if(v.readyState<1) swap(); }, 1600); tryPlay();
      const vb=ensureVidBox(); const btn=document.createElement('button'); btn.className='azro-video__expand'; btn.type='button'; btn.setAttribute('aria-label','Preview video'); btn.textContent='↗'; box.appendChild(btn);
      const openPrev=()=>{ try{ vb.openBox(fb?url2:url1); }catch(_){ } };
      btn.addEventListener('click', openPrev, {passive:true}); v.addEventListener('click', openPrev, {passive:true});
      modal.addEventListener('close', ()=>{ document.documentElement.classList.remove('azr-modal-open'); }, {once:true});
    };
    new MutationObserver(putVideo).observe(modal,{attributes:true,attributeFilter:['open']}); if(modal.open) putVideo();
  });
})();
</script>
<!-- END: ULTRA fail-safe modal video (scoped) -->


<style id="azro-modal-center-lock">
/* Scope: About feature modal only */
#featureModal{ overflow-x:hidden !important; }
#featureModal .azro-modal__scroll{
  overflow-x: hidden !important;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  padding-inline: clamp(14px, 3vw, 24px);
}
/* Horizontally lock & center blocks */
#featureModal .azro-modal__body{ margin-inline:auto; max-width:min(96vw, 1100px); }
#featureModal .azro-modal__text{ text-align:center !important; margin-inline:auto; max-width:min(80ch, 92vw); }
#featureModal .azro-modal__media{ width:100%; max-width:min(96vw, 1100px); margin-inline:auto; }
/* Keep bullets readable while centered */
#featureModal .azro-modal__text > ul{ display:inline-block; text-align:left; margin:.75rem auto 0; padding:0 0 0 1.25rem; }
/* Prevent lateral jank caused by transforms/backdrop stacking on iOS */
@media (max-width: 900px){
  html.azr-modal-open *:not(dialog){ transform:none !important; }
}
</style>


<style id="feature-modal-mobile-final">
/* Final mobile centering + overflow fix for About page modal */
@media (max-width: 900px){
  dialog#featureModal.azro-modal .azro-modal__scroll{display:grid!important;justify-items:center!important}
  dialog#featureModal.azro-modal .azro-modal__body{grid-template-columns:1fr!important;place-items:center!important;width:100%!important;max-width:100%!important;box-sizing:border-box!important}
  dialog#featureModal.azro-modal .azro-modal__text, dialog#featureModal.azro-modal .azro-modal__media{width:100%!important;max-width:100%!important;margin-inline:auto!important;justify-self:center!important;box-sizing:border-box!important}
  dialog#featureModal.azro-modal .azro-modal__text{display:grid!important;justify-items:center!important;text-align:center!important}
  dialog#featureModal.azro-modal .azro-modal__text>ul{margin-inline:auto!important}
  dialog#featureModal.azro-modal .azro-modal__media .azro-video{width:100%!important;max-width:100%!important;min-height:0!important;height:auto!important;aspect-ratio:16/9!important;box-sizing:border-box!important;margin-inline:auto!important}
  dialog#featureModal.azro-modal .azro-video iframe, dialog#featureModal.azro-modal .azro-video video{width:100%!important;height:100%!important;display:block!important}
}
</style>
<script id="about-modal-loop-h264-ready">
(()=>{
  const onReady=(fn)=>document.readyState!=='loading'?fn():document.addEventListener('DOMContentLoaded',fn,{once:true});
  onReady(()=>{
    const modal=document.getElementById('featureModal')||document.querySelector('dialog#featureModal');
    if(!modal) return;
    function wire(){
      const vid=modal.querySelector('.azro-modal__media video, #fmVideoBox video');
      if(!vid || vid.__wired) return;
      vid.__wired=true;
      try{ vid.setAttribute('playsinline',''); vid.playsInline=true; vid.webkitPlaysInline=true; }catch(_){}
      try{ vid.setAttribute('muted',''); vid.muted=true; }catch(_){}
      try{ vid.setAttribute('autoplay',''); vid.autoplay=true; }catch(_){}
      try{ vid.setAttribute('loop',''); vid.loop=true; }catch(_){}
      try{ vid.preload='auto'; }catch(_){}
      try{
        const cur = Array.from(vid.querySelectorAll('source'));
        const hasH264 = cur.some(s=>/main_h264\.mp4/i.test(s.src));
        if(!hasH264){
          const s1=document.createElement('source'); s1.src='main_h264.mp4#t=0.08'; s1.type='video/mp4';
          vid.insertBefore(s1, vid.firstChild);
        }
        if(!cur.some(s=>/main\.mp4/i.test(s.src))){
          const s2=document.createElement('source'); s2.src='main.mp4#t=0.08'; s2.type='video/mp4';
          vid.appendChild(s2);
        }
        vid.load();
      }catch(_){}
      const play=()=>{ try{ vid.play().catch(()=>{});}catch(_){}};
      vid.addEventListener('loadedmetadata',()=>{ try{ if(vid.currentTime<0.05) vid.currentTime=0.08; }catch(_){ } play(); }, {once:true});
      vid.addEventListener('loadeddata', play, {once:true});
      vid.addEventListener('canplay', play, {once:true});
      vid.addEventListener('ended', ()=>{ try{ vid.currentTime=0.08; play(); }catch(_){}});
      requestAnimationFrame(play); setTimeout(play, 160); setTimeout(play, 450);
    }
    new MutationObserver(wire).observe(modal,{subtree:true, childList:true, attributes:true, attributeFilter:['open']});
    wire();
  });
})();
</script>
<script id="preview-video-loop-fix">
(()=>{
  const onReady=(fn)=>document.readyState!=='loading'?fn():document.addEventListener('DOMContentLoaded',fn,{once:true});
  onReady(()=>{
    function ensureAttrs(v){
      try{ v.setAttribute('playsinline',''); v.playsInline=true; v.webkitPlaysInline=true; }catch(_){}
      try{ v.setAttribute('muted',''); v.muted=true; }catch(_){}
      try{ v.setAttribute('autoplay',''); v.autoplay=true; }catch(_){}
      try{ v.setAttribute('loop',''); v.loop=true; }catch(_){}
      try{ v.preload='auto'; }catch(_){}
    }
    function preferH264(v){
      try{
        const sources = Array.from(v.querySelectorAll('source'));
        const hasH264  = sources.some(s => /main_h264\.mp4/i.test(s.src));
        const hasMain  = sources.some(s => /main\.mp4/i.test(s.src));
        if (!hasH264){
          const s1=document.createElement('source'); s1.src='main_h264.mp4#t=0.08'; s1.type='video/mp4';
          if (sources.length){ v.insertBefore(s1, sources[0]); } else { v.appendChild(s1); }
        }
        if (!hasMain){
          const s2=document.createElement('source'); s2.src='main.mp4#t=0.08'; s2.type='video/mp4'; v.appendChild(s2);
        }
        try{ v.load(); }catch(_){}
      }catch(_){}
    }
    function kick(v){
      const play=()=>{ try{ v.play().catch(()=>{}); }catch(_){}};
      v.addEventListener('loadedmetadata', ()=>{ try{ if(v.currentTime<0.05) v.currentTime=0.08; }catch(_){ } play(); }, {once:true});
      v.addEventListener('loadeddata', play, {once:true});
      v.addEventListener('canplay', play, {once:true});
      v.addEventListener('ended', ()=>{ try{ v.currentTime=0.08; play(); }catch(_){}});
      requestAnimationFrame(play); setTimeout(play, 150); setTimeout(play, 450);
    }
    function wirePreview(){
      const dlg = document.querySelector('dialog.azro-vidbox');
      if (!dlg) return;
      const v = dlg.querySelector('video');
      if (!v || v.__loopWired) return;
      v.__loopWired = true;
      ensureAttrs(v);
      preferH264(v);
      kick(v);
      dlg.addEventListener('close', ()=>{ try{ v.pause(); v.currentTime=0; }catch(_){}});
    }
    const mo = new MutationObserver(wirePreview);
    mo.observe(document.documentElement, {subtree:true, childList:true});
    document.addEventListener('click', ()=>setTimeout(wirePreview,0), {passive:true});
    wirePreview();
  });
})();
</script>
<script id="feature-modal-landscape-js">
(function(){
  function onReady(fn){ if(document.readyState!=='loading') fn(); else document.addEventListener('DOMContentLoaded', fn, {once:true}); }
  onReady(function(){
    var modal = document.getElementById('featureModal');
    if(!modal) return;
    function isLandscape(){ return matchMedia('(orientation: landscape)').matches; }
    function ensurePreviewButton(){
      var media = modal.querySelector('.azro-modal__media');
      var vbox  = modal.querySelector('#fmVideoBox');
      if(!media || !vbox) return;
      if(media.querySelector('.preview-video-btn-wrap')) return;
      var wrap = document.createElement('div');
      wrap.className = 'preview-video-btn-wrap';
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'btn btn--primary preview-video-btn';
      btn.textContent = 'Preview Video';
      wrap.appendChild(btn);
      media.appendChild(wrap);
      function requestFS(el){
        try{ if(el.requestFullscreen) return el.requestFullscreen(); }catch(_){}
        try{ if(el.webkitRequestFullscreen) return el.webkitRequestFullscreen(); }catch(_){}
        try{ if(el.msRequestFullscreen) return el.msRequestFullscreen(); }catch(_){}
        try{ if(typeof el.webkitEnterFullScreen==='function') return el.webkitEnterFullScreen(); }catch(_){}
      }
      btn.addEventListener('click', function(){
        var vid   = vbox.querySelector('video');
        var frame = vbox.querySelector('iframe');
        try{
          if(vid){
            try{ vid.muted = false; }catch(_){}
            try{ vid.play().catch(function(){}); }catch(_){}
            requestFS(vid);
          }else if(frame){
            requestFS(frame) || (frame.src && window.open(frame.src, '_blank'));
          }else{
            setTimeout(function(){
              var v = vbox.querySelector('video,iframe');
              if(v) requestFS(v);
            }, 50);
          }
        }catch(e){
          try{ if(frame && frame.src) window.open(frame.src, '_blank'); }catch(_){}
        }
      });
    }
    function apply(){
      if(!modal.open) return;
      if(isLandscape()){
        modal.classList.add('landscape-active');
        ensurePreviewButton();
      }else{
        modal.classList.remove('landscape-active');
        var wrap = modal.querySelector('.preview-video-btn-wrap');
        if(wrap) wrap.remove();
      }
    }
    new MutationObserver(function(){ if(modal.open) apply(); }).observe(modal, { attributes:true, attributeFilter:['open'] });
    addEventListener('resize', apply);
    addEventListener('orientationchange', function(){ setTimeout(apply, 50); });
    modal.addEventListener('close', function(){
      modal.classList.remove('landscape-active');
      var wrap = modal.querySelector('.preview-video-btn-wrap');
      if(wrap) wrap.remove();
    });
  });
})();
</script>
</body>
</html>
